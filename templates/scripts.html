<script type="text/javascript" src="{{ url_for('static', filename='Bootstrap/js/jquery-3.4.1.min.js') }}"></script>
<!-- Bootstraptq tooltips -->
<script type="text/javascript" src="{{ url_for('static', filename='Bootstrap/js/popper.min.js') }}"></script>
<!-- Bootstraptq core JavaScript -->
<script type="text/javascript" src="{{ url_for('static', filename='Bootstrap/js/bootstrap.min.js') }}"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="{{ url_for('static', filename='Bootstrap/js/mdb.min.js') }}"></script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="{{url_for('static', filename='jquery.js') }}">\x3C/script>')</script>

<!-- Initializations -->
<script type="text/javascript">
    // Tooltips Initialization
    $(function () {
    $('[data-toggle="tooltip"]').tooltip('enable');
    });
    /*
    // https://stackoverflow.com/a/6121270/11671368
    function fade(element) {
        var op = 1;  // initial opacity
        var timer = setInterval(function () {
            if (op <= 0.1){
                clearInterval(timer);
                element.style.display = 'none';
            }
            element.style.opacity = op;
            element.style.filter = 'alpha(opacity=' + op * 100 + ")";
            op -= op * 0.1;
        }, 50);
    }

    // https://stackoverflow.com/a/6121270/11671368
    function unfade(element) {
        var op = 0.1;  // initial opacity
        element.style.display = 'block';
        var timer = setInterval(function () {
            if (op >= 1){
                clearInterval(timer);
            }
            element.style.opacity = op;
            element.style.filter = 'alpha(opacity=' + op * 100 + ")";
            op += op * 0.1;
        }, 10);
    }*/

    function toggleSegregation(argument) {
        if (document.getElementById("radioByIndex").checked){
            document.getElementById('byRating').style.display = 'none';
            document.getElementById('byIndex').style.display = 'initial';
            document.getElementById('segregationInfo').innerHTML = '<div class="text-center alert alert-primary flash alert-dismissible fade show" role="alert">Currently Problems are segregated based on <a class="alert-link"> <i class="fas fa-sort-alpha-down"></i> Index (A, B, C and so on)</a>.</div>'
        } else if (document.getElementById("radioByRating").checked){
            document.getElementById('byIndex').style.display = 'none';
            document.getElementById('byRating').style.display = 'initial';
            document.getElementById('segregationInfo').innerHTML = '<div class="text-center alert alert-secondary flash alert-dismissible fade show" role="alert">Currently Problems are segregated based on <a class="alert-link"> <i class="fas fa-chart-line"></i> Rating (Less than 1000, Between 1000 and 1200, and so on)</a>.</div>'
        }
    }

    function toggleProblemType(argument) {
        if (document.getElementById("radioUnsolved").checked){
            document.getElementById('idUnattempted').style.display = 'none';
            document.getElementById('idUnsolved').style.display = 'initial';
        } else if (document.getElementById("radioUnattempted").checked){
            document.getElementById('idUnsolved').style.display = 'none';
            document.getElementById('idUnattempted').style.display = 'initial';
        }
    }

    function toggleRecommendedType(argument) {
        if (document.getElementById("radioByContest").checked){
            document.getElementById('idByProblemset').style.display = 'none';
            document.getElementById('idByContest').style.display = 'initial';
            document.getElementById('recommendedInfo').innerHTML = '<div class="text-center alert alert-primary flash alert-dismissible fade show" role="alert"> These are Unattempted Problems from your <a class="alert-link"><i class="fab fa-cuttlefish"></i> Past Contests</a>.</div>'
        } else if (document.getElementById("radioByProblemset").checked){
            document.getElementById('idByContest').style.display = 'none';
            document.getElementById('idByProblemset').style.display = 'initial';
            document.getElementById('recommendedInfo').innerHTML = '<div class="text-center alert alert-secondary flash alert-dismissible fade show" role="alert"> These are <a class="alert-link">randomly chosen</a> Unattempted Problems from <a class="alert-link"><i class="fab fa-autoprefixer"></i> All Problemset.</div>'
        }
    }

    function f(e) {
        if(e === 'home') {
            document.getElementById('connecting_info').innerHTML = '<div class="d-flex align-items-center"> <strong>Connecting...</strong> <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div></div>';
        } else if(e === 'team_mode') {
            document.getElementById('connecting_info').innerHTML = '<div class="d-flex align-items-center"> <strong>Connecting...This might take a little longer than Normal Mode.</strong> <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div></div>';
        }
        document.getElementById('connected_success').style.display = 'none';
        document.getElementById('connected_danger').style.display = 'none';
    }

    function dismiss(e) {
        document.getElementById(e).style.display = 'none';
    }
</script>


<script>
    /*
    $('.classRecommendedByContestPrevious').click(function (e) {
        let _this = $(this);
        let category = _this.attr('category');
        console.log(`Previous is clicked for category ${category}.`);
        $.ajax({
			url: '',
			type: 'GET',
            data: {
			    test: `Test Previous Category ${category}.`
            },
			success: function(response){
				console.log(response);
			},
			error: function(error){
				console.log(error);
			}
		});
        return false;
    });

    $('.classRecommendedByContestNext').click(function (e) {
        let _this = $(this);
        let category = _this.attr('category');
        console.log(`Next is clicked for category ${category}.`);
        $.ajax({
			url: '',
			type: 'GET',
            data: {
			    test: `Test Next Category ${category}.`
            },
			success: function(response){
				console.log(response);
			},
			error: function(error){
				console.log(error);
			}
		});
        return false;
    });

    $('.classRecommendedByProblemsetRandom').click(function (e) {
        let _this = $(this);
        let category = _this.attr('category');
        let problems = $('#idByProblemset').attr('problems');
        let problemDivId = `#idRecommenderByContestProblems-${category}`;
        let problemDiv = $(problemDivId);
        console.log(`Randomize is clicked for category ${category}.`);
        let problemsJson = JSON.parse(problems);
        let problemCategory = problemsJson[category];
        let totalProblems = problemCategory.length;
        let arr = [];
        while(arr.length < 10){
            let r = Math.floor(Math.random() * totalProblems);
            if(arr.indexOf(r) === -1) arr.push(r);
        }
        arr.sort((a,b)=>a-b); // Sorting Numerically
        let toAppend = "";
        for(let i = 0; i < 10; ++i) {
            let problem = problemCategory[arr[i]], temp;
            if(category !== '6') {
                temp = `<p><b><a class="text-info" href="${problem[2]}" target="_blank">${problem[0]} - ${problem[1]} (Rating: ${problem[3]})</a></b><p>`;
            } else {
                temp = `<p><b><a class="text-info" href="${problem[2]}" target="_blank">${problem[0]} - ${problem[1]}</a></b><p>`;
            }
            toAppend += temp;
        }
        problemDiv.html(toAppend);
        return false;
    })*/
</script>


